/*C2*/SET SCHEMA PUBLIC
DROP TABLE TCONTIENE
DROP TABLE TOFRECE
DROP TABLE TENVIO
DROP TABLE TPEDIDOS
DROP TABLE TPROVEEDORES
CREATE TABLE TPEDIDOS(\u000a\u0009ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,\u000a\u0009CODIGO VARCHAR(255),\u000a\u0009FCREACION DATE NOT NULL,\u000a\u0009PRECIOTOTAL DOUBLE NOT NULL,\u000a\u0009ESTADO VARCHAR(255),\u000a\u0009CONSTRAINT ESTADO_CK CHECK (ESTADO IN('PEDIDO','ENVIADO','RECIBIDO'))\u000a)
CREATE TABLE TPROVEEDORES(\u000a\u0009ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,\u000a\u0009NOMBRE VARCHAR(255) NOT NULL,\u000a\u0009CITY VARCHAR(255),\u000a\u0009STREET VARCHAR(255),\u000a\u0009ZIPCODE VARCHAR(255)\u000a)
CREATE TABLE TCONTIENEN(\u000a\u0009PEDIDO_ID BIGINT,\u000a\u0009REPUESTO_ID BIGINT,\u000a\u0009CANTIDAD INTEGER NOT NULL,\u000a\u0009PRECIOUNIDAD DOUBLE NOT NULL,\u000a\u0009CONSTRAINT TCONTIENE_PK PRIMARY KEY(PEDIDO_ID,REPUESTO_ID),\u000a\u0009CONSTRAINT TCONTIENE_TPEDIDO_FK FOREIGN KEY (PEDIDO_ID) REFERENCES "TPEDIDOS" (ID),\u000a\u0009CONSTRAINT TCONTIENE_TREPUESTO_FK FOREIGN KEY (REPUESTO_ID) REFERENCES "TREPUESTOS" (ID),\u000a\u0009CONSTRAINT TCONTIENE_CANTIDAD_CK CHECK (CANTIDAD > 0.0),\u000a\u0009CONSTRAINT TCONTIENE_PRECIOUNIDAD_CK CHECK (PRECIOUNIDAD > 0.0)\u000a)
CREATE TABLE TOFRECEN(\u000a\u0009REPUESTO_ID BIGINT,\u000a\u0009PROVEEDOR_ID BIGINT,\u000a\u0009PRECIOUNIDAD DOUBLE NOT NULL,\u000a\u0009CONSTRAINT TOFRECE_PK PRIMARY KEY(REPUESTO_ID,PROVEEDOR_ID),\u000a\u0009CONSTRAINT TOFRECE_TPEDIDO_FK FOREIGN KEY (REPUESTO_ID) REFERENCES "TREPUESTOS" (ID),\u000a\u0009CONSTRAINT TOFRECE_TREPUESTO_FK FOREIGN KEY (PROVEEDOR_ID) REFERENCES "TPROVEEDORES" (ID),\u000a\u0009CONSTRAINT TOFRECE_PRECIOUNIDAD_CK CHECK (PRECIOUNIDAD > 0.0)\u000a)
CREATE TABLE TENVIOS(\u000a\u0009PEDIDO_ID BIGINT,\u000a\u0009PROVEEDOR_ID BIGINT,\u000a\u0009FENVIO DATE NOT NULL,\u000a\u0009FRECEPCION DATE NOT NULL,\u000a\u0009CONSTRAINT TENVIO_PK PRIMARY KEY(PEDIDO_ID,PROVEEDOR_ID),\u000a\u0009CONSTRAINT TENVIO_TPEDIDO_FK FOREIGN KEY (PEDIDO_ID) REFERENCES "TPEDIDOS" (ID),\u000a\u0009CONSTRAINT TENVIO_TREPUESTO_FK FOREIGN KEY (PROVEEDOR_ID) REFERENCES "TPROVEEDORES" (ID)\u000a)
INSERT INTO TPROVEEDORES VALUES(1,'','','','')
COMMIT
DELETE FROM TPROVEEDORES WHERE ID=1
COMMIT
INSERT INTO TPROVEEDORES VALUES(1,'','','','')
COMMIT
DELETE FROM TPROVEEDORES WHERE ID=1
COMMIT
INSERT INTO TPROVEEDORES VALUES(1,'Carrocerias Somonte',' Gij\u00f3n','C. Maria Gonzalez "La Pondala" 95','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(2,'Crastir Carroceros','Siero','Pol\u00edgono Industrial de Granda, nave 35','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(3,'Lualjo','Gij\u00f3n','C/ Aviles 25','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(4,'El Calibre','Siero','Pol\u00edgono Puente Nora, calle A, nave 13','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(5,'Recambios Meres','Siero','Pol\u00edgono Granda 36, Nave 7','33420')
COMMIT
DELETE FROM TPROVEEDORES WHERE ID=1
DELETE FROM TPROVEEDORES WHERE ID=2
DELETE FROM TPROVEEDORES WHERE ID=3
DELETE FROM TPROVEEDORES WHERE ID=4
DELETE FROM TPROVEEDORES WHERE ID=5
COMMIT
INSERT INTO TPROVEEDORES VALUES(1,'Carrocerias Somonte','Gij\u00f3n','C. Maria Gonzalez "La Pondala" 95','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(2,'Crastir Carroceros','Siero','Pol\u00edgono Industrial de Granda, nave 35','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(3,'Lualjo','Gij\u00f3n','C/ Aviles 25','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(4,'El Calibre','Siero','Pol\u00edgono Puente Nora, calle A, nave 13','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(5,'Recambios Meres','Siero','Pol\u00edgono Granda 36, Nave 7','33420')
COMMIT
DELETE FROM TPROVEEDORES WHERE ID=1
DELETE FROM TPROVEEDORES WHERE ID=2
DELETE FROM TPROVEEDORES WHERE ID=3
DELETE FROM TPROVEEDORES WHERE ID=4
DELETE FROM TPROVEEDORES WHERE ID=5
COMMIT
INSERT INTO TPROVEEDORES VALUES(1,'Carrocerias Somonte','Gij\u00f3n','C. Maria Gonzalez "La Pondala" 95','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(2,'Crastir Carroceros','Siero','Pol\u00edgono Industrial de Granda, nave 35','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(3,'Lualjo','Gij\u00f3n','C/ Aviles 25','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(7,'El Calibre','Siero','Pol\u00edgono Puente Nora, calle A, nave 13','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(5,'Recambios Meres','Siero','Pol\u00edgono Granda 36, Nave 7','33420')
COMMIT
DELETE FROM TPROVEEDORES WHERE ID=1
DELETE FROM TPROVEEDORES WHERE ID=2
DELETE FROM TPROVEEDORES WHERE ID=3
DELETE FROM TPROVEEDORES WHERE ID=5
DELETE FROM TPROVEEDORES WHERE ID=7
COMMIT
INSERT INTO TPROVEEDORES VALUES(1,'Carrocerias Somonte','Gij\u00f3n','C. Maria Gonzalez "La Pondala" 95','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(2,'Crastir Carroceros','Siero','Pol\u00edgono Industrial de Granda, nave 35','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(3,'Lualjo','Gij\u00f3n','C/ Aviles 25','33201')
COMMIT
INSERT INTO TPROVEEDORES VALUES(4,'El Calibre','Siero','Pol\u00edgono Puente Nora, calle A, nave 13','33420')
COMMIT
INSERT INTO TPROVEEDORES VALUES(5,'Recambios Meres','Siero','Pol\u00edgono Granda 36, Nave 7','33420')
COMMIT
DISCONNECT
