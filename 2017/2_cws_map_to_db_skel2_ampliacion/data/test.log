/*C66*/SET SCHEMA PUBLIC
DISCONNECT
/*C67*/SET SCHEMA PUBLIC
DISCONNECT
/*C68*/SET SCHEMA PUBLIC
DISCONNECT
/*C69*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTARJETASCREDITO
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
DROP TABLE TTIPOSVEHICULO
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C70*/SET SCHEMA PUBLIC
DISCONNECT
/*C71*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C72*/SET SCHEMA PUBLIC
DISCONNECT
/*C73*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C80*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C84*/SET SCHEMA PUBLIC
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C86*/SET SCHEMA PUBLIC
DISCONNECT
/*C87*/SET SCHEMA PUBLIC
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID
ALTER TABLE TSUSTITUCIONES DROP CONSTRAINT UNQ_TSUSTITUCIONES_0
ALTER TABLE TMEDIOSPAGO DROP CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID
ALTER TABLE TMETALICOS DROP CONSTRAINT FK_TMETALICOS_ID
ALTER TABLE TTARJETASCREDITO DROP CONSTRAINT FK_TTARJETASCREDITO_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_TYPE_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CONTRACT_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_MECHANIC_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT FK_TCONTRACTS_CATEGORY_ID
ALTER TABLE TCONTRACTS DROP CONSTRAINT UNQ_TCONTRACTS_0
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID
ALTER TABLE TINTERVENCIONES DROP CONSTRAINT UNQ_TINTERVENCIONES_0
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID
ALTER TABLE TVEHICULOS DROP CONSTRAINT FK_TVEHICULOS_CLIENTE_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_FACTURA_ID
ALTER TABLE TCARGOS DROP CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID
ALTER TABLE TBONOS DROP CONSTRAINT FK_TBONOS_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_FACTURA_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_VEHICULO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT FK_TAVERIAS_MECANICO_ID
ALTER TABLE TAVERIAS DROP CONSTRAINT UNQ_TAVERIAS_0
DROP TABLE TSUSTITUCIONES
DROP TABLE TMECANICOS
DROP TABLE TCONTRACTCATEGORYS
DROP TABLE TMEDIOSPAGO
DROP TABLE TMETALICOS
DROP TABLE TTIPOSVEHICULO
DROP TABLE TTARJETASCREDITO
DROP TABLE TCONTRACTS
DROP TABLE TINTERVENCIONES
DROP TABLE TREPUESTOS
DROP TABLE TVEHICULOS
DROP TABLE TCARGOS
DROP TABLE TBONOS
DROP TABLE TAVERIAS
DROP TABLE TFACTURAS
CREATE TABLE TSUSTITUCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CANTIDAD INTEGER, INTERVENCION_ID BIGINT, REPUESTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMECANICOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TCONTRACTCATEGORYS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, COMPENSATIONDAYS REAL, NAME VARCHAR(255), PRODUCTIVITYPLUS REAL, TRIENIUMSALARY REAL, PRIMARY KEY (ID))
CREATE TABLE TMEDIOSPAGO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DTYPE VARCHAR(31), ACUMULADO REAL, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TMETALICOS (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE TTIPOSVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE TTARJETASCREDITO (ID BIGINT NOT NULL, NUMERO VARCHAR(255), TIPO VARCHAR(255), VALIDEZ DATE, PRIMARY KEY (ID))
CREATE TABLE TCONTRACTS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, BASESALARY REAL, DATE TIMESTAMP, EXTRASALARY REAL, IRPF REAL, NETTOTAL REAL, PRODUCTIVITY REAL, SOCIALSECURITY REAL, TRIENNIUM REAL, CONTRACT_ID BIGINT, BASE_SALARY_PER_YEAR REAL, COMPENSATION REAL, END_DATE TIMESTAMP, FINISHED BOOLEAN, START_DATE TIMESTAMP, STATUS VARCHAR(255), CATEGORY_ID BIGINT, MECHANIC_ID BIGINT, TYPE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TINTERVENCIONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MINUTOS INTEGER, AVERIA_ID BIGINT, MECANICO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TREPUESTOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE TVEHICULOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUM_AVERIAS INTEGER, CLIENTE_ID BIGINT, TIPOVEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TCARGOS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, IMPORTE REAL, FACTURA_ID BIGINT, MEDIOPAGO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TBONOS (ID BIGINT NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), DISPONIBLE REAL, PRIMARY KEY (ID))
CREATE TABLE TAVERIAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA DATE, IMPORTE REAL, STATUS VARCHAR(255), FACTURA_ID BIGINT, MECANICO_ID BIGINT, VEHICULO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TFACTURAS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA DATE, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT UNQ_TSUSTITUCIONES_0 UNIQUE (REPUESTO_ID, INTERVENCION_ID)
ALTER TABLE TMECANICOS ADD CONSTRAINT UNQ_TMECANICOS_2 UNIQUE (DNI)
ALTER TABLE TTIPOSVEHICULO ADD CONSTRAINT UNQ_TTIPOSVEHICULO_1 UNIQUE (NOMBRE)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT UNQ_TTARJETASCREDITO_1 UNIQUE (NUMERO)
ALTER TABLE TCONTRACTS ADD CONSTRAINT UNQ_TCONTRACTS_0 UNIQUE (CONTRACT_ID, DATE)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT UNQ_TINTERVENCIONES_0 UNIQUE (AVERIA_ID, MECANICO_ID)
ALTER TABLE TREPUESTOS ADD CONSTRAINT UNQ_TREPUESTOS_1 UNIQUE (CODIGO)
ALTER TABLE TVEHICULOS ADD CONSTRAINT UNQ_TVEHICULOS_2 UNIQUE (MATRICULA)
ALTER TABLE TBONOS ADD CONSTRAINT UNQ_TBONOS_1 UNIQUE (CODIGO)
ALTER TABLE TAVERIAS ADD CONSTRAINT UNQ_TAVERIAS_0 UNIQUE (VEHICULO_ID, FECHA)
ALTER TABLE TFACTURAS ADD CONSTRAINT UNQ_TFACTURAS_4 UNIQUE (NUMERO)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_INTERVENCION_ID FOREIGN KEY (INTERVENCION_ID) REFERENCES TINTERVENCIONES (ID)
ALTER TABLE TSUSTITUCIONES ADD CONSTRAINT FK_TSUSTITUCIONES_REPUESTO_ID FOREIGN KEY (REPUESTO_ID) REFERENCES TREPUESTOS (ID)
ALTER TABLE TMEDIOSPAGO ADD CONSTRAINT FK_TMEDIOSPAGO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TMETALICOS ADD CONSTRAINT FK_TMETALICOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TTARJETASCREDITO ADD CONSTRAINT FK_TTARJETASCREDITO_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES TCONTRACTS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_MECHANIC_ID FOREIGN KEY (MECHANIC_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TCONTRACTS ADD CONSTRAINT FK_TCONTRACTS_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TCONTRACTCATEGORYS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
ALTER TABLE TINTERVENCIONES ADD CONSTRAINT FK_TINTERVENCIONES_AVERIA_ID FOREIGN KEY (AVERIA_ID) REFERENCES TAVERIAS (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_TIPOVEHICULO_ID FOREIGN KEY (TIPOVEHICULO_ID) REFERENCES TTIPOSVEHICULO (ID)
ALTER TABLE TVEHICULOS ADD CONSTRAINT FK_TVEHICULOS_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES TCLIENTES (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TCARGOS ADD CONSTRAINT FK_TCARGOS_MEDIOPAGO_ID FOREIGN KEY (MEDIOPAGO_ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TBONOS ADD CONSTRAINT FK_TBONOS_ID FOREIGN KEY (ID) REFERENCES TMEDIOSPAGO (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_FACTURA_ID FOREIGN KEY (FACTURA_ID) REFERENCES TFACTURAS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_VEHICULO_ID FOREIGN KEY (VEHICULO_ID) REFERENCES TVEHICULOS (ID)
ALTER TABLE TAVERIAS ADD CONSTRAINT FK_TAVERIAS_MECANICO_ID FOREIGN KEY (MECANICO_ID) REFERENCES TMECANICOS (ID)
DISCONNECT
/*C88*/SET SCHEMA PUBLIC
DISCONNECT
/*C89*/SET SCHEMA PUBLIC
DISCONNECT
/*C90*/SET SCHEMA PUBLIC
DISCONNECT
/*C91*/SET SCHEMA PUBLIC
DISCONNECT
/*C92*/SET SCHEMA PUBLIC
DISCONNECT
/*C93*/SET SCHEMA PUBLIC
DISCONNECT
/*C94*/SET SCHEMA PUBLIC
DISCONNECT
/*C95*/SET SCHEMA PUBLIC
DISCONNECT
/*C96*/SET SCHEMA PUBLIC
DISCONNECT
/*C97*/SET SCHEMA PUBLIC
DISCONNECT
/*C98*/SET SCHEMA PUBLIC
DISCONNECT
/*C99*/SET SCHEMA PUBLIC
DISCONNECT
/*C100*/SET SCHEMA PUBLIC
DISCONNECT
/*C101*/SET SCHEMA PUBLIC
DISCONNECT
/*C102*/SET SCHEMA PUBLIC
DISCONNECT
/*C103*/SET SCHEMA PUBLIC
DISCONNECT
/*C104*/SET SCHEMA PUBLIC
DISCONNECT
/*C105*/SET SCHEMA PUBLIC
DISCONNECT
/*C106*/SET SCHEMA PUBLIC
DISCONNECT
/*C107*/SET SCHEMA PUBLIC
DISCONNECT
/*C108*/SET SCHEMA PUBLIC
DISCONNECT
/*C109*/SET SCHEMA PUBLIC
DISCONNECT
/*C110*/SET SCHEMA PUBLIC
DISCONNECT
/*C111*/SET SCHEMA PUBLIC
DISCONNECT
/*C112*/SET SCHEMA PUBLIC
DISCONNECT
/*C113*/SET SCHEMA PUBLIC
DISCONNECT
/*C114*/SET SCHEMA PUBLIC
DISCONNECT
/*C115*/SET SCHEMA PUBLIC
DISCONNECT
/*C116*/SET SCHEMA PUBLIC
DISCONNECT
/*C117*/SET SCHEMA PUBLIC
DISCONNECT
/*C118*/SET SCHEMA PUBLIC
DISCONNECT
/*C119*/SET SCHEMA PUBLIC
DISCONNECT
/*C120*/SET SCHEMA PUBLIC
DISCONNECT
/*C121*/SET SCHEMA PUBLIC
DISCONNECT
/*C122*/SET SCHEMA PUBLIC
DISCONNECT
/*C123*/SET SCHEMA PUBLIC
DISCONNECT
